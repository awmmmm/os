#LAB8 EX1
拖的稍微有点久，但总算是把实验做完（答案抄完）了，第二个实验不太写的出来。
####练习1: 完成读文件操作的实现（需要编码）

首先了解打开文件的处理流程，然后参考本实验后续的文件读写操作的过程分析，编写在sfs_inode.c中sfs_io_nolock读文件中数据的实现代码。

请在实验报告中给出设计实现”UNIX的PIPE机制“的概要设方案，鼓励给出详细设计方案


####回答
先要了解什么是文件系统
负责管理和存储可长期保存数据的软件功能模块称为文件系统
具体看实验指导书&PPT

然后需要了解打开和读文件的一个总体流程
简单来说就是从用户态程序发出打开请求，一步步传下去，传到SFS,SFS将操作转到磁盘驱动，完成读写操作，因此实验的读操作是在SFS这个层面上去完成的

具体还是没啥说的，看实验指导书，看下写代码时遇到的问题，没啥大问题，主要是sfs_bmap_load_nolock这个找到物理块的函数是返回值不为0时要报错


###思考提
思考不出来，copy优等生的答案


请在实验报告中给出设计实现”UNIX的PIPE机制“的概要设方案，鼓励给出详细设计方案。
为了实现UNIX的PIPE机制，可以考虑在磁盘上保留一部分空间或者是一个特定的文件来作为pipe机制的缓冲区，接下来将说明如何完成对pipe机制的支持：
当某两个进程之间要求建立管道，假定将进程A的标准输出作为进程B的标准输入，那么可以在这两个进程的进程控制块上新增变量来记录进程的这种属性；并且同时生成一个临时的文件，并将其在进程A, B中打开;
当进程A使用标准输出进行write系统调用的时候，通过PCB中的变量可以知道，需要将这些标准输出的数据输出到先前提高的临时文件中去；
当进程B使用标准输入的时候进行read系统调用的时候，根据其PCB中的信息可以知道，需要从上述的临时文件中读取数据；
至此完成了对pipe机制的设计；
事实上，由于在真实的文件系统和用户之间还由一层虚拟文件系统，因此我们也可以不把数据缓冲在磁盘上，而是直接保存在内存中，然后完成一个根据虚拟文件系统的规范完成一个虚拟的pipe文件，然后进行输入输出的时候只要对这个文件进行操作即可；

作者：AmadeusChan
链接：https://www.jianshu.com/p/7e46a6ae0e8d
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。