#lab5 ex1
练习1: 加载应用程序并执行（需要编码）
do_execv函数调用load_icode（位于kern/process/proc.c中）来加载并解析一个处于内存中的ELF执行文件格式的应用程序，建立相应的用户内存空间来放置应用程序的代码段、数据段等，且要设置好proc_struct结构中的成员变量trapframe中的内容，确保在执行此进程后，能够从应用程序设定的起始执行地址开始执行。需设置正确的trapframe内容。

请在实验报告中简要说明你的设计实现过程。

请在实验报告中描述当创建一个用户态进程并加载了应用程序后，CPU是如何让这个应用程序最终在用户态执行起来的。即这个用户态进程被ucore选择占用CPU执行（RUNNING态）到具体执行应用程序第一条指令的整个经过。
代码很简单，就是重写trapframe里的东西，其实就是通过中断从ring0跳到ring3执行。
但是需要分析一下怎么执行的

这里开始整个分析一下到执行用户函数的流程
![](../图片/user_process.jpg)
其中比较关键的do_execv则是将页表清空，然后调用load_icode，load_icode则是先创建了新的mm，将二进制可执行文件的虚拟地址加载进去。。。等等，具体看实验指导书创建用户进程，很详细。

补充的代码是实现特权级0-3的切换，前面也详细写过，具体的话就参考写的报告。